<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lista de Productos</title>
    <link rel="stylesheet" href="listarproducto.css"> <!-- Link al archivo de estilos -->
</head>
<body>
<header>
    <nav>
        <ul>
            <li><a href="/">Inicio</a></li>
            <li><a href="/clientes">Clientes</a></li>
            <li><a href="/productos">Productos</a></li>
            <li><a href="/categorias">Categorias</a></li>
        </ul>
    </nav>
</header>

<main>
    <h1>Lista de Productos</h1>

    <!-- Botón para registrar un nuevo producto -->
    <a href="/productos/nuevo">
        <button class="btn registrar">Registrar Nuevo Producto</button>
    </a>

    <table>
        <thead>
        <tr>
            <th>Nombre</th>
            <th>Descripción</th>
            <th>Precio</th>
            <th>Stock</th>
            <th>Categoría</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="producto : ${productos}">
            <td th:text="${producto.nombre}"></td>
            <td th:text="${producto.descripcion}"></td>
            <td th:text="${producto.precio}"></td>
            <td th:text="${producto.stock}"></td>
            <td th:text="${producto.categoria.nombre}"></td>
            <td>
                <!-- Enlace para editar el producto -->
                <a th:href="@{/productos/editar/{id}(id=${producto.idProducto})}" class="btn editar">Editar</a>
                <!-- Enlace para eliminar el producto con confirmación antes de borrar -->
                <a th:href="@{/productos/eliminar/{id}(id=${producto.idProducto})}" onclick="return confirm('¿Estás seguro de eliminar este producto?')" class="btn eliminar">Eliminar</a>
            </td>
        </tr>
        </tbody>
    </table>
</main>

<footer>
    <p>&copy; 2024 Proyecto de Rodrigo Wismann Caceres</p>
</footer>

</body>
</html>
